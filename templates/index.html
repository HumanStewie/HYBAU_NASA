<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NASA Space Apps - HYBAU</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="../static/css/style.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
</head>
<body>
    <!-- Map Placeholder -->
    <div id="map"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-bar"></div>
    </div>

    <!-- Top Navigation -->
    <nav class="top-nav">
         <div class="logo">
            <i class="fas fa-satellite"></i>
            <span>HYBAU</span>
        </div>

        <div class="search-container" style="position: relative;">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-bar" placeholder="Search location...">
        </div>

        <div class="mode-switcher">
            <button class="mode-btn active" data-mode="air-quality">
                <i class="fas fa-wind"></i> Air Quality
            </button>
            <button class="mode-btn" data-mode="weather">
                <i class="fas fa-cloud-sun"></i> Weather
            </button>
            <button class="mode-btn" data-mode="forecast">
                <i class="fas fa-chart-line"></i> Forecast
            </button>
        </div>
    </nav>

    <!-- Left Sidebar removed per request -->

    <!-- Right Controls Panel -->
    <div class="right-panel">
            <button class="control-btn tooltip" data-tooltip="Zoom In">
                <i class="fas fa-plus"></i>
            </button>
            <button class="control-btn tooltip" data-tooltip="Zoom Out">
                <i class="fas fa-minus"></i>
            </button>
            <div class="divider"></div>
            <button class="control-btn tooltip" data-tooltip="My Location">
                <i class="fas fa-crosshairs"></i>
            </button>
            <button class="control-btn tooltip" data-tooltip="Fullscreen">
                <i class="fas fa-expand"></i>
            </button>
            <div class="divider"></div>
            <button class="control-btn tooltip" data-tooltip="Toggle Theme" id="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
            <button class="control-btn tooltip" data-tooltip="Info" id="info-toggle">
                <i class="fas fa-info"></i>
            </button>
    </div>

    <!-- Legend -->
    <div class="legend" id="legend"></div>

    <!-- Right Info Panel -->
    <div id="info-panel">
        <!-- City Information Section -->
        <div class="panel-section" id="city-section">
            <div class="city-header">
                <div class="city-name">Hanoi</div>
                <div class="city-country">Vietnam 🇻🇳</div>
            </div>

            <div class="aqi-display">
                <div class="aqi-label">Air Quality Index</div>
                <div class="aqi-badge aqi-moderate">76 - Moderate</div>
            </div>

            <div class="health-advice">
                <div class="health-advice-title">Health Recommendations</div>
                <div class="health-advice-text">
                    Air quality is acceptable. However, sensitive individuals should consider reducing prolonged outdoor exertion.
                </div>
            </div>
        </div>

        <!-- Weather Conditions Section -->
        <div class="panel-section" id="weather-section">
            <h2>🌤️ Current Weather</h2>
            
            <div class="info-grid">
                <!-- Temperature -->
                <div class="info-card">
                    <div class="info-card-title">🌡️ Temperature</div>
                    <div class="info-card-value">
                        <span class="info-card-number"></span><span class="info-card-unit">°C</span>
                    </div>
                    <div class="info-card-detail">Feels like --°C</div>
                </div>
            
                <!-- Humidity -->
                <div class="info-card">
                    <div class="info-card-title">💧 Humidity</div>
                    <div class="info-card-value">
                        <span class="info-card-number"></span><span class="info-card-unit">%</span>
                    </div>
                    <div class="info-card-detail">Dew point --°C</div>
                </div>
            
                <!-- Wind Speed -->
                <div class="info-card">
                    <div class="info-card-title">💨 Wind Speed</div>
                    <div class="info-card-value">
                        <span class="info-card-number"></span><span class="info-card-unit">km/h</span>
                    </div>
                    <div class="info-card-detail">Direction: --°</div>
                </div>
            
                <!-- Precipitation -->
                <div class="info-card">
                    <div class="info-card-title">🌧️ Precipitation</div>
                    <div class="info-card-value">
                        <span class="info-card-number"></span><span class="info-card-unit">mm</span>
                    </div>
                    <div class="info-card-detail">Cloud cover: --%</div>
                </div>
            
                <!-- Cloud Cover -->
                <div class="info-card">
                    <div class="info-card-title">☁️ Cloud Cover</div>
                    <div class="info-card-value">
                        <span class="info-card-number"></span><span class="info-card-unit">%</span>
                    </div>
                    <div class="info-card-detail">Sky fully overcast</div>
                </div>
            
                <!-- Surface Pressure -->
                <div class="info-card">
                    <div class="info-card-title">🧭 Surface Pressure</div>
                    <div class="info-card-value">
                        <span class="info-card-number"></span><span class="info-card-unit">hPa</span>
                    </div>
                    <div class="info-card-detail">Stable pressure</div>
                </div>
            </div>
        </div>

        <!-- Air Pollutants Section -->
        <div class="panel-section" id="pollutants-section">
            <h2>🏭 Air Pollutants</h2>
        </div>

        <!-- Forecast Section -->
        <div class="panel-section" id="forecast-section">
            <h2>📅 3-Day Forecast</h2>
            
            <div class="info-card">
                <div class="info-card-title">Tomorrow</div>
                <div class="info-card-value">
                    29°C / 23°C
                </div>
                <div class="info-card-detail">⛅ Partly Cloudy • AQI: Moderate</div>
            </div>

            <div class="info-card">
                <div class="info-card-title">Day After</div>
                <div class="info-card-value">
                    30°C / 24°C
                </div>
                <div class="info-card-detail">🌤️ Sunny • AQI: Good</div>
            </div>

            <div class="info-card">
                <div class="info-card-title">3 Days</div>
                <div class="info-card-value">
                    27°C / 22°C
                </div>
                <div class="info-card-detail">🌧️ Light Rain • AQI: Good</div>
            </div>
        </div>
        
        <div class="panel-section" id="data-sources-section">
            <div class="section-title">Data Sources</div>
            <div style="padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                <p style="font-size: 12px; color: rgba(255,255,255,0.7); margin-bottom: 8px;">
                    <span style="margin-right: 6px;"></span><i class="fas fa-satellite-dish"></i> NASA EarthData
                </p>
                <p style="font-size: 12px; color: rgba(255,255,255,0.7); margin-bottom: 8px;">
                    <span style="margin-right: 6px;"></span><i class="fas fa-cloud-sun"></i> Open-Meteo
                </p>
            </div>
        </div>

        <div class="last-updated">
            Last updated: Oct 4, 2025 • 10:00 ICT
        </div>
    </div>

    <!-- Toggle Button for Info Panel -->
    <!-- <button id="panel-toggle"></button> -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="../static/js/script.js"></script>
    <script>
        createLegend({
            selector: '.legend', 
            title: 'PM2.5', 
            unit: 'μg/m³',
            maxValue: 250,
            thresholds: [15, 35, 55, 110, 250],
            categories: ['Good', 'Moderate', 'Unhealthy for Sensitive Groups', 'Unhealthy', 'Very Unhealthy'],
            colors: ['#00e400', '#ffff00', '#ff7e00', '#ff0000', '#8f3f97']
        });
    </script>
</body>
</html>